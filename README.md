# Medical Examiners Service Case Management System

This respository contains the source code for the Medical Examiners Service CMS, providing the frontend UI and the logic for accessing and processing data from the Medical Examiners Service Data API.

### Table of Contents
1. [Project Status](#project-status)


## Project Status

### Sandbox

[![Build Status](https://dev.azure.com/DougMills/medical_examiner_front_end/_apis/build/status/methodsanalytics.medical_examiner_front_end_docker?branchName=master)](https://dev.azure.com/DougMills/medical_examiner_front_end/_build/latest?definitionId=6&branchName=master)

### Staging

Environment and pipeline still to be set up

### Production

Environment and pipeline still to be set up

## Development

### Tech Stack

This project uses the following technologies:

- Python/Django
- jQuery
- SASS
- Docker/Compose

### Running local development 

#### Environment Variables

Running the project locally requires the following environment variables to be set:

- API_URL - this is the address for the Data API.

#### Starting the server

The local server can be started by running the following command from the root directory of the project:

```
docker-compose up
```

### Testing

#### Strategy

The project is developed using the TDD approach, using the unittest module for writing unit tests and selenium for running feature tests.

The target coverage level for the project is:

- &lt;80% coverage for unit testing
- Feature tests for each user feature, covering all probable scenarios.

#### Commands

The unit tests can be run with the 'test' command in the bin directory, or can be run with a coverage report using the 'coverage' command in the bin directory. The generated coverage report can then be viewed by opening the 'index.html' file in the 'htmlcov' directory.

### Feature development

Feature development in this project is following the git-flow development pattern.

When starting a new project feature you should create a new branch named in the format 'feature/`ticket-id`-`branch-name`'

Once development on the branch is complete, the branch should be pushed to the Github repository and a pull request should be opened against the master branch.

The pull request must be reviewed by at least one of the other developers on the project team. In order for the request to be accepted, there must be unit tests in place for the new code in the feature, the CI pipeline must have passed and the new code must pass a code quality review.

## Continuous Integration and Deployment Pipeline

THe continuous integration and deployment pipeline for this project is implemented using Azure pipelines.

### Continuous Integration

The continuous integration pipeline for the project is defined in the 'azure-pipelines.yml' file in the root of the project.

The pipeline should run on every push to Github on every branch, it runs the tests and builds a container image which it pushes to Azure container storage.

### Continuous Deployment

The continuous deployment pipeline is defined through the Azure pipeline UI.

For the sandbox environment it runs when the CI pipeline on the master branch of the repository passes, it pulls the container generated by the CI build on to the WebApp server and starts the container.
